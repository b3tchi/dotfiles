windows:
  links:
    config.nu: ~/AppData/Roaming/nushell/config.nu
    env.nu: ~/AppData/Roaming/nushell/env.nu
    scripts: ~/AppData/Roaming/nushell/scripts
    apps: ~/AppData/Roaming/nushell/apps
    actions/tmux-cleanup: ~/.local/bin/tmux-cleanup
    actions/tmux-start: ~/.local/bin/tmux-start
    actions/tmux-message: ~/.local/bin/tmux-message

  installs:
    cmd: |
      scoop install nu
      scoop install starship
      scoop bucket add extras
      scoop install extras/carapace-bin

linux:
  links:
    config.nu: ~/.config/nushell/config.nu
    env.nu: ~/.config/nushell/env.nu
    scripts: ~/.config/nushell/scripts
    apps: ~/.config/nushell/apps
    actions/tmux-cleanup: ~/.local/bin/tmux-cleanup
    actions/tmux-start: ~/.local/bin/tmux-start
    actions/tmux-message: ~/.local/bin/tmux-message
  installs:
    cmd: |
      {{#if (eq whoami.distro "Manjaro Linux")}}
      sudo pacman -Syu --needed --noconfirm \
        nushell starship
      pamac install carapace-bin --no-confirm
      {{/if}}
      chmod +x ~/.dotfiles/nushell/actions/tmux-cleanup
      chmod +x ~/.dotfiles/nushell/actions/tmux-start
      chmod +x ~/.dotfiles/nushell/actions/tmux-message
